---
title: "TIL #003"
category: TIL
---

## [ Javascript30. 01 - JS Drum Kit ]
### 1. HTML
#### kbd태그
키보드로 들어가는 사용자 입력을 나타내기 위해 `<kbd>` 태그를 사용한다.    

```html
To delete lines, 
press <kbd><kbd>ctrl</kbd> + <kbd>d</kbd></kbd>
```
---

#### data-key 속성
어느 요소에나 `data-`로 시작하는 속성을 사용할 수 있다. 
##### Javascript에서 접근하기
https://developer.mozilla.org/ko/docs/Learn/HTML/Howto/%EB%8D%B0%EC%9D%B4%ED%84%B0_%EC%86%8D%EC%84%B1_%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0  

---

#### audio태그 



### 2. CSS
#### vh, rem 
#### display: flex
#### align-items: center
#### justify-content: center



### 3. Javascript
#### event: transitionend 
트랜지션 이벤트가 끝났을 때 동작하는 이벤트이다. 
   
#### audio태그 제어 스크립트
- currentTime
- play()

#### e.propertyName


#### 실행
1. 사용자가 특정 키를 입력하면(`keydown`) 드럼소리를 내는 playSound 콜백함수를 실행된다. 
    1. audio와 div.key 요소들의 data-key 속성에 미리 특정 keyCode값을 지정해놓는다. 
    2. playSound함수가 실행되면 입력된 keyCode값과 data-key속성값을 이용해 해당 audio와 div.key 요소를 찾는다.
    3. keyCode와 일치하는 audio요소가 없으면 return한다. 
    4. 일치하는 audio요소가 있다면 div.key요소에 playing이라는 클래스를 추가하고, audio를 실행시킨다. 
    5. playing클래스로 인해 div.key요소에 transition이벤트가 발생한다.
2. key요소들을 전부 찾아 트랜지션이 끝나면(`transitionend`) playing 클래스를 삭제하는 removeTransition 콜백함수를 실행한다. 
    1. (트랜지션이 발생한) 이벤트 객체(e)의 propertyName 속성에 transform값이 없다면 return한다. 
    2. transform값이 있다면 트랜지션 이벤트가 발생한 해당 요소(e.target)에서 playing 클래스를 삭제한다. 